# MySQL 的整体架构



![img](https://chenqwwq-img.oss-cn-beijing.aliyuncs.com/img/0d2070e8f84c4801adbfa03bda1f98d9.png)



查询缓存在之前的更新中就已经完全去除了。

> 查询缓存是以查询语句为 Key，作为命中的要求，所以命中率并不会高，而且大量的缓存在业务逻辑层实现灵活性更高，更加可控，也就实在没必要在数据库中增加缓存机制。





> Q: 连接器的作用

连接器就是负责管理连接的，包括权限验证等等流程。



> Q:  优化器的作用

优化器就是 MySQL 中对 SQL 语法的分析器，会根据解析出进来的 SQL 语句结合索引以及随机取样数据做出选择。

因为其中还包含数据的影响，所以无法100%的确定是否真的会走索引，如果优化器根据数据推测全表扫描的速度大于走索引再回表的速度，那么就会直接放弃索引。

总而言之，优化器就是 MySQL 中的索引选择器。



> Q: 执行器的作用

执行器就相当于是一个调度器，会根据表选择的存储引擎调用不同的存储引擎的接口。



