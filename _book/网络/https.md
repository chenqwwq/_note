# HTTPS 协议



---

[TOC]

---



## 概述




## https 握手协议流程





## 数字证书

证书是经过 CA 私钥签名并下发的包含某个服务器公钥的密文。

证书中包含如下内容：

1. 证书的颁发机构（Issuer）
2. 证书的有效期（Valid From，Valid To）
3. 服务器自身的公钥（Public Key）
4. 证书的持有这（Subject）
5. 签名算法（Signature algorithm）
6. 指纹（Thumbprint）
7. 指纹算法（Thumbprint algorithm）

<br>

系统中会内置信任一些主要的 CA 机构，并且游览器中可以选择信任某个 CA 机构，那经过该 CA 下发的证书都会被认为有效，链接也会被认为是安全的。



## Q & A 总结

> CA 的作用？

CA（认证中心）会向服务器颁发数字证书，数字证书中主要就包含了服务器的公钥。

在建立连接的时候，服务器并不是直接发送自己的公钥，因为可能被中间人拦截并代替为自己的公钥，而是直接下发的自己的证书，证书是使用 CA 的私钥进行签名的，客户端会持有自己信任的 CA 的公钥，接到证书之后解签以检查服务端的身份，并获得里面的公钥。



> 为什么在非对称加密的基础上又要使用对称加密？

1. 服务端的公钥是公开的，所以经过私钥加密的内容可以被任何人解析。
2. 非对称加密的效率很低





## 参考

[Https 建立安全连接的过程（SSL原理）](https://blog.csdn.net/xiaopang_yan/article/details/78709574)