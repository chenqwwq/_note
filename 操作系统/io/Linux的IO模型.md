# Linux 系统的五种 IO 模型

> 偏 Java 的角度理解五种 IO 模型。

---

[TOC]

---



## 概述

IO 就是 input/output，可以简单理解为读写操作，按照操作的来源和目标划分可以分为以下几种：

1. 磁盘 IO（从磁盘来或者到磁盘去
2. 网络 IO
3. 内存 IO

<br>

IO 的过程简单可以分为一下两个过程：

1. 数据准备（例如 read 事件，需要对应的 FD 可读
2. 数据复制（将对应 FD 中的数据复制到指定内存区域

以网络的 s

五种 IO 模型分别是:

- 同步阻塞 IO
- 同步非阻塞 IO
- IO 多路复用
- 信号驱动式 IO
- 异步 IO

<br>

## 同步阻塞 IO

在数据准备和数据复制两个阶段都是阻塞的 IO 模式。

以网络 IO 为例，Socket.accept() 方法会一直阻塞直到对应 FD 有对应事件，并且读的。





## 同步非阻塞 IO

在数据准备阶段并不需要阻塞，而是会直接返回数据是否准备好，需要用户轮询数据的准备情况。

但是在数据复制阶段仍然是同步的，需要用户进程参与。





## IO 多路复用

区别于同步非阻塞的模式，IO 多路复用不需要当前线程主动轮询，而是另外起一个线程同时轮询或者说监听多个 fd。

> IO 多路复用还是需要线程轮询的，只是换了别的线程轮询，所以如果对于少量的文件读写，IO 多路复用并不见得有多大的性能优势。
>
> 细分的话，**IO 多路复用还是数据同步阻塞 IO** 。

### 具体实现

poll，epoll，select





## 信号驱动式 IO

信号区别式 IO 不需要线程的主动查询，而是在数据准备完成之后会收到一个信号，而后继续处理后面的数据。





## 异步 IO

异步 IO 在数据等待和复制两个阶段都不需要用户线程参与。





## 参考

[聊聊Linux 五种IO模型](https://www.jianshu.com/p/486b0965c296)