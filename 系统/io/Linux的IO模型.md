# Linux 系统的五种 IO 模型

> 五种 IO 模型分别是:
>
> - 同步阻塞 IO
> - 同步非阻塞 IO
> -  IO 多路复用
> - 信号驱动式 IO
> - 异步 IO





## IO 的概念

IO 就是对文件的读写操作，对应的两个主要的系统调用 read / write。

> read / write 的目标都是页缓存区，而非真实的文件。

read 的过程简单可以分为一下两个过程：

1. 数据准备
2. 数据复制

> 简单的理解，同步是对数据复制过程来说的，而阻塞是对数据准备过程来说的。
>
> 所以除了异步 IO 之外，其他四种 IO 都是同步 IO。

## 同步阻塞 IO

在数据准备和数据复制两个阶段都是阻塞的 IO 模式。

## 同步非阻塞 IO

在数据准备阶段并不需要阻塞，而是会直接返回数据是否准备好，需要用户轮询数据的准备情况。

但是在数据复制阶段仍然是同步的，需要用户进程参与。

## IO 多路复用

区别于同步非阻塞的模式，IO 多路复用不需要当前线程主动轮询，而是另外起一个线程同时轮询或者说监听多个 fd。

> IO 多路复用还是需要线程轮询的，只是换了别的线程轮询，所以如果对于少量的文件读写，IO 多路复用并不见得有多大的性能优势。
>
> 细分的话，**IO 多路复用还是数据同步阻塞 IO** 。



### 具体实现

poll，epoll，select

## 信号驱动式 IO

信号区别式 IO 不需要线程的主动查询，而是在数据准备完成之后会收到一个信号，而后继续处理后面的数据。

## 异步 IO

异步 IO 在数据等待和复制两个阶段都不需要用户线程参与。

## 参考

[聊聊Linux 五种IO模型](https://www.jianshu.com/p/486b0965c296)