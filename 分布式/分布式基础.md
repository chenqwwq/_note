# 分布式基础

---

[TOC]

---



## CAP 定理

CAP 是分布式的基础定义，含义分别如下：

- C（Consistency） - 一致性，分布式环境中，一致性就是指的多个副本之间，同一时刻是否可以读取到同样的值（这里的一致性是指强一致性。
- A（Availability） - 高可用性，系统提供的服务一直处于可用状态，能在有限时间之内完成任意用户提交的请求。
- P（Partition tolerance） - 分区容错性，在遭遇到分区故障的时候仍然可以对外提供正常的服务。

<br>

可用性就是指的服务可用时间，分区容错性是指服务间的网络出现分区之后是否还可用，

<br>

CAP 定理阐述的意思就是任何一个分布式集群服务无法同时满足这三个要求。

例如 ZAB，在保证 CP 的情况下，要求存活的节点超过半数，因此不满足 A 的要求。





## BASE 理论

BASE 是在 CAP 定理的基础上发展出来的妥协式理论。

BASE 分别代表如下几种意思：

- BA（Basically Available） -  基本可用，在出现系统故障的时候允许损失部分可用性，保证核心可用
- S（Soft State） -  软状态，允许存在中间状态
- E（Eventual Consistency）-  最终一致性，不再要求强一致性





## Zab 协议



## Raft 协议



[Raft 论文翻译](./raft/zraft-zh_cn.md)

## Zab 和 Raft 协议的对比



## Gossip 协议



## Tips

Zab 和 Raft 都属于共识协议，







## 参考

[CAP一致性协议及应用解析](https://tech.youzan.com/cap-coherence-protocol-and-application-analysis/)

[一致性协议算法-2PC、3PC、Paxos、Raft、ZAB、NWE](http://www.360doc.com/content/21/0106/09/412471_955432948.shtml)