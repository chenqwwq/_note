# 垃圾收集器整理

## 概览

![常见的垃圾收集器](assets/%E5%B8%B8%E8%A7%81%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8.jpeg)

## G1

- [美团 - Java Hotspot G1 GC 的一些关键技术](https://tech.meituan.com/2016/09/23/g1.html)

- [搞懂 G1 垃圾收集器](https://www.cnblogs.com/GrimMjx/p/12234564.html)

- [G1 收集器原理的理解和分析](https://zhuanlan.zhihu.com/p/52841787)

  





## Parallel Scavenge 

> 通过 **-XX:+UseParallelGC** 和 **-XX:+UseParallelOldGC** 两种开启该回收器。
>
> 前者配合 Serial Old 垃圾回收器，后者配合 Parallel Old 垃圾回收器。

该垃圾回收器**默认启动了** **AdaptiveSizePolicy**，会根据 GC 的情况自动计算计算 Eden、From 和 To 区的大小。

可能会存在 From 和 To 被调整到只有不到 10M 的情况，此时如果遇到 YGC，很可能因为 Survivor 区溢出而导致存活对象全部晋升到老年代，如果配合的是 Serial 垃圾回收器，就会产生较大的延迟。

以通过如下控制该参数：

> ​	**关闭：-XX:-UseAdaptiveSizePolicy**
>
>    **开启：-XX:+UseAdaptiveSizePolicy** 



### 参考

[JVM参数之UseAdaptiveSizePolicy](https://blog.csdn.net/u014263388/article/details/105617350)







## 相关参数

### -XX:SurvivorRatio

Eden 和 Survivor 比例，默认为8，比例为 8:1:1

### -XX:PreternureSizeThreshold

直接晋升老年代的对象大小，设置了这个参数后，大于这个参数的对象直接在老年代进行分配。

默认为空，不晋升。

### -XX:MaxTenuringThreshold

晋升老年代的对象年龄，对象在每一次Minor GC后年龄增加一岁，超过这个值后进入到老年代。

默认值为15

## 相关资料

[GC参数解析 UseSerialGC、UseParNewGC、UseParallelGC、UseConcMarkSweepGC](https://blog.csdn.net/leo187/article/details/88920036#t5)

 