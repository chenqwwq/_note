

1. Java中常用哪些锁？synchronized的实现原理
2. cas原理？假如有两个线程，线程1对比完成后即将修改值时被挂起，线程2完成了对比和修改，这样会不会造成什么问题？volatile能解决这个问题吗？
3. redis分布式锁原理，redission分布式锁原理，watchdog怎么 实现的
4. MySQL索引的原理，一个select * from table where a=？ and b=？，ab都是单列索引，这时索引怎么走
5. spring Cloud用过哪些组件？Eureka的原理是什么
6. eureka的服务注册过程，一个新服务注册要多长时间被发现？原理是什么
7. feign的调用过程是什么？怎么证明feign是ribbon升级包装的？feign是spring的还是Netflix的组件
8. Feign有个注解了解吗？ImportBeanDefinitionRegistrar原理
9. SpringBoot启动流程解析

> SpringBoot 的启动流程主要分为 Enviroment 和 ApplicationContext 的创建和初始化，中间穿插 Listener，ApplicationContextInitial，
>
> Enviroment 在创建后包含 profile 和 PropertySources 两种配置，触发 ApplicationEnvironmentPreparedEvent 事件后，由 ConfigFileXXXX 监听器加载 EnvironmentPostProcessor，并加载所有的配置文件的内容。
>
> 如果存在 SpringCloud 的依赖，此时还会触发 BoostratpApplicationListener，创建 SpringCloud 容器，并作为当前 SpringBoot 容器的父上下文。（子类可以获取到父上下文的 Bean。
>
> 之后创建并配置 ApplicationContext，跳过 Banner 的打印，配置 Enviroment，并运行所有的 ApplicationContextInitial，如果使用 Consul 作为配置中心，此时就会触发 PropertySourceXXXX，拉取远程配置。
>
> 之后加载种子 Bean，也就是启动类，然后就是刷新阶段。
>
> 简单配置后，执行 BeanFatcoryPostProcessor，BeanFactoryPostProcessor 中主要的是 ConifgrationClassPostProcessor，开始解析配置类包括 Bean 方法，此时讲所有需要的 beanDefinition 都加载到 BeanFactory 中。
>
> 之后是加载并排序所有的 BeanPostProcessor，BeanFatcoryPostProcessor 介入 BeanFactory 的创建过程，可以修改 BeanFatcory，而 BeanPostProcessor 介入 Bean 的创建过程，主要的就是 AOP 实现的重点类之一 AnnotationAwareAspectJAutoProxyCreator。
>
> 初始化广播器，从 SpringApplication 中获取全部的 Listener，并且之后的时间发送都是由 ApplictaionContext 发布，而不是最初的 SpringApplicationRunListener。
>
> Onrefresh 方法可以用来创建 WebServer。
>
> 加载所有的 Bean 对象，此时所有的 BeanDefinition 都已经在 BeanFactory 中，如果不是 @Lazy 的 Bean 都需要此时加载。
>
> 注册 LifecycleProcessor
>
> 最后调用 ApplicationRunner 和 CommendLineRunner

1. SpringBoot自动装配原理

> SpringBootApplicatiopn 注解包含 EnableAutoConfiguration，包含 Import 注解，使用 AutoConfigurationImportSelector，进一步使用工厂加载模式（Spring的SPI），获取所有配置的 Configuration 类，然后进一步解析 Configuration 类。
>
> 另外的还有包含 Conditional 类注解会在配置的时候调用注解上的相关类进行判断是否需要注入。
>
> 总的来说是 Import 起头的注解递归解析。

1. SpringBoot是怎么接受外部请求的
2. 项目中的难点说下，还有什么想问我的吗

 